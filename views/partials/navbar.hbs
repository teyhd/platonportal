<header class="relative fixed top-0 inset-x-0 z-10 bg-white/70 dark:bg-gray-800/70 backdrop-blur px-4 h-14 flex items-center justify-between">
  <!-- Ð¦ÐµÐ½Ñ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
<h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100
           sm:absolute sm:left-1/2 sm:transform sm:-translate-x-1/2
           text-left sm:text-center whitespace-nowrap overflow-hidden text-ellipsis">
  {{title}}
</h1>

  <!-- Ð›ÐµÐ²Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ (Ð¿ÑƒÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð»Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿) -->
  <div class="flex items-center space-x-4"></div>

  <!-- ÐŸÑ€Ð°Ð²Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ -->
  <div class="flex items-center space-x-3">
    <button id="theme" class="p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700" title="Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ‚ÐµÐ¼Ñƒ" hidden>ðŸŒž</button>
    {{#if auth}}
          <!-- Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½ -->
      <button id="logoutBtn" class="px-4 py-1.5 text-sm font-medium rounded-md bg-red-600 text-white hover:bg-red-700 transition">
        Ð’Ñ‹Ð¹Ñ‚Ð¸
      </button>
    {{else}}
      <!-- Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ ÐÐ• Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½ -->
      <button id="openModal" class="px-4 py-1.5 text-sm font-medium rounded-md bg-blue-600 text-white hover:bg-blue-700 transition">
        Ð’Ð¾Ð¹Ñ‚Ð¸
      </button>
    {{/if}}
  </div>
</header>
<script>

$(function () {
  const $btn = $('#theme');
  const root = document.documentElement;

  function isSystemDark() {
    return window.matchMedia('(prefers-color-scheme: dark)').matches;
  }

  function applyTheme(theme) {
    if (theme === 'dark') {
      root.classList.add('dark');
      $btn.text('ðŸŒ™');
    } else {
      root.classList.remove('dark');
      $btn.text('ðŸŒž');
    }
  }

  const savedTheme = localStorage.getItem('theme');
  applyTheme(savedTheme || (isSystemDark() ? 'dark' : 'light'));

  $btn.on('click', function () {
    const isDark = root.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    $btn.text(isDark ? 'ðŸŒ™' : 'ðŸŒž');
  });
});

</script>
